<div data-role="page" data-theme="b">

  <div data-role="header" data-position="inline">
    <h1>タイムピッカー機能</h1>
    <a href="<%= Rho::RhoConfig.start_path %>" class="ui-btn-left" data-icon="home" data-direction="reverse" <%= "data-ajax='false'" if is_bb6 %>>
      機能リストへ
    </a>
  </div>

  <div data-role="content">
    <% if platform == 'apple' %>
       <div class="ui-grid-a">
         <div class="ui-block-a">
           <label for="time_field">Ajaxによる指定:</label>
           <div><span class="time_field"></span></div>
         </div>
         <div class="ui-block-b">
           <input type="button" id="ajax_button" value="時間を指定" onClick="ChooseAjax();" />
         </div>
       </div>
    <% end %>
    <p>
      <input type="text" id="time_text" readonly/>
      <a href="" onClick="Call_Picker()" data-role="button">日付・時間を選択</a>
    </p>
    <hr />
    <a href="<%= url_for :action => :choose, :query => {:flg => "1"} %>" data-role="button">日付を選択</a>
    <a href="<%= url_for :action => :choose, :query => {:flg => "2"} %>" data-role="button">時間を選択</a>
    <a href="<%= url_for :action => :choose_range, :query => {:format => "0"} %>" data-role="button">日付・時間を選択(1週間後まで)</a>
    <a href="<%= url_for :action => :choose_range, :query => {:format => "1"} %>" data-role="button">日付を選択(1週間後まで)</a>
    <a href="<%= url_for :action => :choose_range, :query => {:format => "2"} %>" data-role="button">時間を選択(1週間後まで)</a>
  </div>

</div>

<script type="text/javascript">
  function ChooseAjax(){
    $.get('<%= url_for(:action => :choose_ajax) %>');
    return false
  }

  function Call_Picker(){
      $.get('<%= url_for(:action => :choose) %>', {flg: 0})
    return false
  }

  function Time_Picker_Set(time){
      document.getElementById("time_text").value = time
  }

  function SetTime(time){
    $('span.time_field').html(time);
  }
</script>
